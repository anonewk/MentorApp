{% extends 'base.html.twig' %}

{% block title %}Mes relations{% endblock %}
    {% block body %}
        <div class="flex">
            <div class=" w-7/12 ml-64 mt-20 mb-40 rounded-btn">
                <div class="bg-primary mb-20 h-56">
                    <div class="flex justify-center">
                        <div id="mentor_pictures" class="float-left overflow-hidden rounded-lg mt-6 ml-6">
                            <img  src="{{ asset('/images/Logos/HomePage/Image -44@2x.png') }}" alt="User">
                        </div>
                        <div id="mentor_pictures" class="float-left overflow-hidden rounded-lg mt-6 ml-6">
                            <img  src="{{ asset('/images/Logos/HomePage/Image -43@2x.png') }}" alt="User">
                        </div>


                        <style>
                            #mentor_pictures{
                                overflow:hidden;
                                -webkit-border-radius:50px;
                                -moz-border-radius:50px;
                                border-radius:60px;
                                width:120px;
                                height:120px;
                            }
                        </style>
                    </div>


                    <div class="text-center pt-6">
                        {#A remplacer par les données stocké en bdd#}

                        <div class="grid grid-flow-col grid-rows-4">
                            <span class="text-lg font-semibold">Mon contrat de mentorat avec <b>{{ contractRequest.UserSender.firstName }} {{ contractRequest.UserSender.lastName }}</b> #{{ contractRequest.UserSender.id }}</span>
                            <span class="text-sm">en tant que mentor</span>
                        </div>

                    </div>


                </div>

                <div class=" m-auto rounded-btn">
                    <div class="flex">
                        <h1 class="text-lg  font-bold font-medium text-gray-900 mb-4">
                            Sessions
                        </h1>
                        {#Si c'est un mentor on affiche le bouton sinon non#}
                        <button id="new_contact" class="modal-open hover:bg-secondary text-white bg-inverse text-inverse rounded-b-btn ml-4 h-6 w-20 ">Plannifier</button>

                    </div>
                </div>
                {# Pop up plannifer#}
                <!--Modal-->
                <div class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center">
                    <div class="modal-overlay absolute w-full h-full opacity-50"></div>

                    <div class="modal-container bg-primary w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto">

                        <div class="modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50">
                            <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
                            </svg>
                            <span class="text-sm">(Esc)</span>
                        </div>

                        <!-- Add margin if you want to see some of the overlay behind the modal-->
                        <div class="modal-content py-4 text-left px-6">
                            <!--Title-->
                            <div class="flex justify-between items-center pb-3">
                                <p class="text-2xl font-bold">Plannifier une session</p>
                                <div class="modal-close cursor-pointer z-50">
                                    <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                        <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
                                    </svg>
                                </div>
                            </div>

                            <!--Body-->

                            <!--Footer-->
                            <div class="flex justify-end pt-2">
                                <button class="px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2">Plannifer</button>
                                <button class="modal-close px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400">Fermer</button>
                            </div>

                        </div>
                    </div>
                </div>
                {# END  Pop up plannifer#}
                <div class="bg-primary mb-2 h-40">
                    <div class="pt-6">
                        <div class="grid   pl-5  ">
                            {#A remplacer par les sessions stocké en bdd#}
                            <div class="space-x-20">
                                <span>Session n°9</span>
                                <span>Dans 5 min</span>
                                <span>Duis a urna risus. Cras sodales tellus urna, vel imper...</span>
                                <span>
                                <button class="hover:bg-default  bg-secondary rounded-btn weight-btn ">
                                    <a class="text-inverse" href="">Rejoindre</a>
                                </button>
                            </span>


                            </div>
                            <hr class="border-b-2 border-gray-900 mx-6 " style="color:#ececec;">
                            <div class="space-x-20">
                                <span>Session n°9</span>
                                <span>Dans 5 min</span>
                                <span>Duis a urna risus. Cras sodales tellus urna, vel imper...</span>
                                <span> Terminé</span>

                            </div>
                            <hr class="border-b-2 border-gray-900 mx-6 " style="color:#ececec;">

                        </div>


                    </div>


                </div>

            </div>

            <div class="mt-12 ml-16">
                <div class="mt-10 space-y-5">
                    <div>
                        <button class="hover:bg-default  bg-secondary rounded-btn weight-btn p-2 ">
                            <a class="text-inverse" href="{{ path('objectifs', {'id':  contractRequest.id}) }}">Objectif du contrat</a>
                        </button>
                    </div>
                    <div>
                        <button class="hover:bg-default  bg-secondary rounded-btn weight-btn p-2 ">
                            <a class="text-inverse" href="">Contacter Janoce</a>
                        </button>
                    </div>
                    <div>
                        <button class="modal-open-avis text-inverse hover:bg-default bg-secondary rounded-btn weight-btn p-2 ">
                            Donner son avis
                        </button>
                    </div>
                    <div>
                        <button class="hover:bg-default  bg-inverse rounded-btn weight-btn p-2 ">
                            <a class="text-inverse" href="">Rompre le contrat</a>
                        </button>
                    </div>
                </div>
                {# Pop up plannifer#}
                <!--Modal-->
                <div class="modal-avis opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center">
                    <div class="modal-overlay-avis absolute w-full h-full opacity-50"></div>

                    <div class="modal-container-avis bg-primary w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto">

                        <div class="modal-close-avis absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50">
                            <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
                            </svg>
                            <span class="text-sm">(Esc)</span>
                        </div>

                        <!-- Add margin if you want to see some of the overlay behind the modal-->
                        <div class="modal-content-avis py-4 text-left px-6">
                            <!--Title-->
                            <div class="flex justify-between items-center pb-3">
                                <p class="text-2xl font-bold">Donner son avis</p>
                                <div class="modal-close-avis cursor-pointer z-50">
                                    <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                        <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
                                    </svg>
                                </div>
                            </div>

                            <!--Body-->

                            <!--Footer-->
                            <div class="flex justify-end pt-2">
                                <button class="px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2">Envoyer</button>
                                <button class="modal-close-avis px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400">Fermer</button>
                            </div>

                        </div>
                    </div>
                </div>
                {# END  Pop up plannifer#}

            </div>

        </div>

    {% endblock %}
  {% block javascripts %}
      <script>
          var dropdown = document.getElementById('dropdown');
          var dropdownAvatar = document.getElementById('dropdownAvatar');

          dropdown.style.display = "none";
          dropdownAvatar.addEventListener('click', function (e) {
              if(dropdown.style.display !== "none"){
                  dropdown.style.display = "none";
              } else {
                  dropdown.style.display = "block";
              }

          });

        /*MODAL PANNIFIER*/
          var openmodal = document.querySelectorAll('.modal-open');

          for (var i = 0; i < openmodal.length; i++) {
              openmodal[i].addEventListener('click', function(event){
                  event.preventDefault();
                  toggleModal()
              })
          }

          const overlay = document.querySelector('.modal-overlay');
          overlay.addEventListener('click', toggleModal);


          var closemodal = document.querySelectorAll('.modal-close');

          for (var i = 0; i < closemodal.length; i++) {
              closemodal[i].addEventListener('click', toggleModal)
          }

          document.onkeydown = function(evt) {
              evt = evt || window.event;
              var isEscape = false;
              if ("key" in evt) {
                  isEscape = (evt.key === "Escape" || evt.key === "Esc")
              } else {
                  isEscape = (evt.keyCode === 27)
              }
              if (isEscape && document.body.classList.contains('modal-active')) {
                  toggleModal()
              }
          };

          function toggleModal () {
              const body = document.querySelector('body');
              const modal = document.querySelector('.modal');
              modal.classList.toggle('opacity-0');
              modal.classList.toggle('pointer-events-none');
              body.classList.toggle('modal-active');
          }
          /*END MODAL PANNIFIER*/

          var openmodalAvis = document.querySelectorAll('.modal-open-avis');

          for (var i = 0; i < openmodalAvis.length; i++) {
              openmodalAvis[i].addEventListener('click', function(event){
                  event.preventDefault();
                  toggleModalAvis()
              })
          }

          const overlayAvis = document.querySelector('.modal-overlay-avis');
          overlayAvis.addEventListener('click', toggleModalAvis);


          var closemodalAvis = document.querySelectorAll('.modal-close-avis');

          for (var i = 0; i < closemodalAvis.length; i++) {
              closemodalAvis[i].addEventListener('click', toggleModalAvis)
          }

          document.onkeydown = function(evt) {
              evt = evt || window.event;
              var isEscape = false;
              if ("key" in evt) {
                  isEscape = (evt.key === "Escape" || evt.key === "Esc")
              } else {
                  isEscape = (evt.keyCode === 27)
              }
              if (isEscape && document.body.classList.contains('modal-active-avis')) {
                  toggleModalAvis()
              }
          };

          function toggleModalAvis () {
              const body = document.querySelector('body');
              const modal = document.querySelector('.modal-avis');
              modal.classList.toggle('opacity-0');
              modal.classList.toggle('pointer-events-none');
              body.classList.toggle('modal-active-avis');
          }

      </script>
      <script>

          feather.replace()
      </script>
  {% endblock %}